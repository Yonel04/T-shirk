var PersonalizationModule=function(){var t;const s="indoCookie_set",i="EU_indoCookie_checked",r="indoQuebecCookie_set",u="indoQuebecCookie_checked",f=365,e=1,o="#hasStripeContent",h="valuePropElement";t="";let n=window.Cookies||{};var c=function(){var f={checkStripe:0,checkEUCookie:0,checkQuebec:0,checkShowroomOverlay:0},tt=$("#currentCurrency").length!==0?$("#currentCurrency").val():"",a,p,w,b,h,c;$("#overrideUserIP").length>0&&(t=$("#overrideUserIP").val(),t!=""&&(t="&UserIpOverride="+t));a=n.get(s);a||(p=n.get(i),p||(f.checkEUCookie=1));w=n.get(r);w||(b=n.get(u),b||(f.checkQuebec=1));h=!0;$(o).length>0&&$(o).val()==="1"&&(h=!1);h&&(f.checkStripe=1);let k=window.location.pathname.indexOf("/product/")===0;(window.location.pathname==="/"||k)&&(f.checkShowroomOverlay=1);var d=0,g=0,nt=0;f!=null&&(f.checkStripe==1&&(d=1),f.checkShowroomOverlay==1&&(g=1),f.checkQuebec==1&&(nt=1));f!=null&&(f.checkEUCookie==1||f.checkQuebec==1||f.checkStripe==1||f.checkShowroomOverlay==1)&&(c=k?$("#personalizationProductShowroomComonent").val():"",$.ajax({type:"get",url:"/page/GetPersonalizationComponents?url="+window.location.pathname+"&checkEUCookie="+(f.checkEUCookie!=null&&typeof f.checkEUCookie!="undefined"?f.checkEUCookie:0)+"&checkQuebec="+nt+"&checkStripe="+d+"&checkShowroomOverlay="+g+"&currency="+$("#currentCurrency").val()+"&source="+c+t,contentType:"application/json",dataType:"json",cache:"false",success:function(t){if(t!=null&&t.content!=null){if(f.checkQuebec==1&&t.content.QuebecComponent!=null&&l(t.content.QuebecComponent),f.checkEUCookie==1&&t.content.CookieComponent!=null){var r=t.content.CookieComponent.Html;if(t.content.CookieComponent.Show&&r!=null){$("body").append(r);$(".cookiePrompt").removeClass("hide");$("#cookieCTA").on("click",y)}t.content.CookieComponent.Show||n.set(i,"true",{expires:e,path:"/"})}if(f.checkStripe==1&&t.content.StripeComponent!=null&&v(t.content.StripeComponent),f.checkShowroomOverlay==1&&t.content.ShowroomOverlayComponent!=null&&t.content.ShowroomOverlayComponent.Html!=null&&t.content.ShowroomOverlayComponent.Html!=""&&t.location!=null){let n=document.getElementsByClassName("heroBannerFull");n.length<=0&&(n=document.getElementsByClassName("heroBannerHalf"));n.length>0&&(n=n[0]);c==$("#personalizationProductShowroomComonent").val()&&(n=".layout-right-content");$(n).prepend(t.content.ShowroomOverlayComponent.Html);$("<input>").attr({type:"hidden",id:"showroom-overlay-url",value:t.location.UrlKey}).prependTo(n);$("<input>").attr({type:"hidden",id:"showroom-overlay-distance",value:t.location.Distance}).prependTo(n);t.content.ShowroomOverlayComponent.CustomJs!=null&&t.content.ShowroomOverlayComponent.CustomJs!=""&&$("<script type='text/javascript' />").text(t.content.ShowroomOverlayComponent.CustomJs).appendTo(document.body);t.content.ShowroomOverlayComponent.CustomCss!=null&&t.content.ShowroomOverlayComponent.CustomCss!=""&&$("<style/>").text(t.content.ShowroomOverlayComponent.CustomCss).appendTo(document.head)}}},error:function(){}}))},l=function(t){n.set(u,"true",{expires:e,path:"/"});t!=null&&t.Html!=null&&t.Html!=""&&(n.set(r,"true",{expires:f}),$("#bodyContainer").prepend(t.Html),t.CustomJs!=null&&t.CustomJs!=""&&$("<script type='text/javascript' />").text(t.CustomJs).appendTo(document.body),t.CustomCss!=null&&t.CustomCss!=""&&$("<style/>").text(t.CustomCss).appendTo(document.head))},a=function(n){var t=document.createElement("template");return n=n.trim(),t.innerHTML=n,t.content.firstChild},v=function(n){if(n!=null&&n.Html!=null&&n.Html!=""){n.CustomJs!=null&&n.CustomJs!=""&&$("<script type='text/javascript' />").text(n.CustomJs).appendTo(document.body);n.CustomCss!=null&&n.CustomCss!=""&&$("<style/>").text(n.CustomCss).appendTo(document.head);const t=document.getElementsByClassName(h);if(t!=null&&t.length>0){let i=a(n.Html);t[0].parentNode.insertBefore(i,t[0].nextSibling)}else $("#bodyContainer").prepend(n.Html)}},y=function(){n.set("indoCookie_set","true",{expires:f,path:"/"});$(".cookiePrompt").addClass("hide")};return{init:c}}();$(document).on("ready",PersonalizationModule.init)